{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\src\\\\component\\\\BECanlendar\\\\BECanlendar.js\";\nimport React from \"react\";\nimport Canlendar from './Canlendar.js';\nimport '../../static/BECanlendar.less';\nimport $ from 'jquery/dist/jquery.min.js';\n\nclass BECanlendar extends React.Component {\n  constructor({\n    onpick,\n    earliest,\n    latest,\n    title,\n    byear,\n    bmonth,\n    bday,\n    eyear,\n    emonth,\n    eday\n  }) {\n    super();\n    var d = new Date(); //b表示开始日期\n    //e表示结束日期\n\n    this.state = {\n      \"b\": {\n        \"year\": byear,\n        \"month\": bmonth,\n        \"day\": bday,\n        \"showCanlendar\": false\n      },\n      \"e\": {\n        \"year\": eyear,\n        \"month\": emonth,\n        \"day\": eday,\n        \"showCanlendar\": false\n      },\n      showchoosebox: false //取消时候的 备份数据\n\n    };\n    this.kbyear = this.state.b.year;\n    this.kbmonth = this.state.b.month;\n    this.kbday = this.state.b.day;\n    this.keyear = this.state.e.year;\n    this.kemonth = this.state.e.month;\n    this.keday = this.state.e.day;\n  } //此组件的显示与否\n\n\n  showCanlendar1() {\n    // console.log(this.state.b.showCanlendar);\n    if (this.state.b.showCanlendar) {\n      return React.createElement(Canlendar, Object.assign({}, this.state.b, {\n        onpick: this.onpick1.bind(this),\n        earliest: this.props.earliest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }));\n    }\n  }\n\n  showCanlendar2() {\n    // console.log(this.state.e.showCanlendar);\n    if (this.state.e.showCanlendar) {\n      return React.createElement(Canlendar, Object.assign({}, this.state.e, {\n        onpick: this.onpick2.bind(this),\n        latest: this.props.latest,\n        earliest: this.props.earliest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }));\n    }\n  } //通过子组件传回的值 设置自己的state..\n\n\n  onpick1({\n    year,\n    month,\n    day\n  }) {\n    this.setState({\n      b: {\n        showCanlendar: false,\n        year,\n        month,\n        day\n      }\n    });\n  }\n\n  onpick2({\n    year,\n    month,\n    day\n  }) {\n    this.setState({\n      e: {\n        showCanlendar: false,\n        year,\n        month,\n        day\n      }\n    });\n  } //计算日期间隔\n\n\n  calcGap() {\n    var dateb = new Date(this.state.b.year, this.state.b.month, this.state.b.day);\n    var datee = new Date(this.state.e.year, this.state.e.month, this.state.e.day); //时间戳差\n\n    var gap = datee - dateb; //换算成天\n\n    var gmonth = gap / 1000 / 60 / 60 / 24;\n    return gmonth; // //年分差\n    // var gyear = this.state.e.year-this.state.b.year;\n    // //\n  } //上树之后\n\n\n  componentDidMount() {\n    var self = this;\n    $(\"html\").click(function (event) {\n      var o = self.refs.BECanlendar;\n\n      if ($(event.target).parents(o).length == 0) {\n        self.setState({\n          \"showchoosebox\": false,\n          b: {\n            year: self.kbyear,\n            month: self.kbmonth,\n            day: self.kbday,\n            showCanlendar: false\n          },\n          e: {\n            year: self.keyear,\n            month: self.kemonth,\n            day: self.keday,\n            showCanlendar: false\n          }\n        }); // self.setState = (state,callback)=>{\n        // \treturn;\n        // };\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // 卸载异步操作设置状态\n    // clearTimeout(this.timeouter)\n    this.setState = (state, callback) => {\n      return;\n    };\n  } //显示组件\n\n\n  showchoosebox() {\n    return React.createElement(\"div\", {\n      className: \"chooseBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u786E\\u5B9A\",\n      className: \"submitbtn\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: false\n        });\n        this.kbyear = this.state.b.year;\n        this.kbmonth = this.state.b.month;\n        this.kbday = this.state.b.day;\n        this.keyear = this.state.e.year;\n        this.kemonth = this.state.e.month;\n        this.keday = this.state.e.day;\n        this.props.onpick(this.props.title, this.state);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u53D6\\u6D88\",\n      className: \"cancelbtn\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: false,\n          b: {\n            year: this.kbyear,\n            month: this.kbmonth,\n            day: this.kbday\n          },\n          e: {\n            year: this.keyear,\n            month: this.kemonth,\n            day: this.keday\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"begin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"\\u5F00\\u59CB\\u65E5\\u671F\\uFF1A\", React.createElement(\"div\", {\n      className: \"begin_result result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: !this.state.b.showCanlendar\n          }),\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.state.b.year, \"\\u5E74\", this.state.b.month, \"\\u6708\", this.state.b.day, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), this.showCanlendar1())), React.createElement(\"div\", {\n      className: \"days\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u5171\", React.createElement(\"span\", {\n      className: \"month\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.calcGap()), \"\\u5929\"), React.createElement(\"div\", {\n      className: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"\\u7ED3\\u675F\\u65E5\\u671F\\uFF1A\", React.createElement(\"div\", {\n      className: \"begin_result result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: event => {\n        this.setState({\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: !this.state.e.showCanlendar\n          }),\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.e.year, \"\\u5E74\", this.state.e.month, \"\\u6708\", this.state.e.day, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), this.showCanlendar2())));\n  }\n\n  render() {\n    // console.log(this.state.b.year,this.state.b.month,this.state.b.day);\n    // console.log(this.state.e.year,this.state.e.month,this.state.e.day);\n    return React.createElement(\"div\", {\n      className: \"BECanlendar\",\n      ref: \"BECanlendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"result\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: !this.state.showchoosebox,\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: false\n          }),\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, this.kbyear, \"\\u5E74\", this.kbmonth, \"\\u6708\", this.kbday, \"\\u65E5 - \", this.keyear, \"\\u5E74\", this.kemonth, \"\\u6708\", this.keday, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })), this.state.showchoosebox && this.showchoosebox());\n  }\n\n}\n\nexport default BECanlendar;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\component\\BECanlendar\\BECanlendar.js"],"names":["React","Canlendar","$","BECanlendar","Component","constructor","onpick","earliest","latest","title","byear","bmonth","bday","eyear","emonth","eday","d","Date","state","showchoosebox","kbyear","b","year","kbmonth","month","kbday","day","keyear","e","kemonth","keday","showCanlendar1","showCanlendar","onpick1","bind","props","showCanlendar2","onpick2","setState","calcGap","dateb","datee","gap","gmonth","componentDidMount","self","click","event","o","refs","target","parents","length","componentWillUnmount","callback","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Canlendar from './Canlendar.js';\nimport '../../static/BECanlendar.less';\nimport $ from 'jquery/dist/jquery.min.js';\n\n\n\n\n\n\nclass BECanlendar  extends React.Component{\n\tconstructor({onpick,earliest,latest,title,byear,bmonth,bday,eyear,emonth,eday}){\n\t\tsuper();\n\n\t\tvar d=new Date();\n\t\t//b表示开始日期\n\t\t//e表示结束日期\n\t\tthis.state={\n\t\t\t\"b\":{\n\t\t\t\t\"year\":byear,\n\t\t\t\t\"month\":bmonth,\n\t\t\t\t\"day\":bday,\n\t\t\t\t\"showCanlendar\":false\n\t\t\t},\n\t\t\t\"e\":{\n\t\t\t\t\"year\":eyear,\n\t\t\t\t\"month\":emonth,\n\t\t\t\t\"day\":eday,\n\t\t\t\t\"showCanlendar\":false\n\t\t\t},\n\t\t\tshowchoosebox:false\n\t\t}\n\t\t//取消时候的 备份数据\n\t\tthis.kbyear=this.state.b.year;\n\t\tthis.kbmonth=this.state.b.month;\n\t\tthis.kbday=this.state.b.day;\n\t\tthis.keyear=this.state.e.year;\n\t\tthis.kemonth=this.state.e.month;\n\t\tthis.keday=this.state.e.day;\n\t}\n\n\t\n\n\t//此组件的显示与否\n\tshowCanlendar1(){\n\t\t// console.log(this.state.b.showCanlendar);\n\t\t\n\t\tif(this.state.b.showCanlendar){\n\t\t\treturn <Canlendar {...this.state.b} onpick={(this.onpick1).bind(this)} earliest={this.props.earliest} />;\n\t\t}\n\t}\n\tshowCanlendar2(){\n\t\t// console.log(this.state.e.showCanlendar);\n\t\tif(this.state.e.showCanlendar){\n\t\t\treturn <Canlendar {...this.state.e} onpick={(this.onpick2).bind(this)} latest={this.props.latest} earliest={this.props.earliest}   />;\n\t\t}\n\t}\n\n\n\t//通过子组件传回的值 设置自己的state..\n\tonpick1({year,month,day}){\n\t\tthis.setState({b:{showCanlendar:false,year,month,day}});\n\t}\n\tonpick2({year,month,day}){\n\t\tthis.setState({e:{showCanlendar:false,year,month,day}});\n\t}\n\n\t//计算日期间隔\n\tcalcGap(){\n\t\tvar dateb=new Date(this.state.b.year,this.state.b.month,this.state.b.day);\n\t\tvar datee=new Date(this.state.e.year,this.state.e.month,this.state.e.day);\n\t\t//时间戳差\n\t\tvar gap = datee-dateb;\n\n\t\t//换算成天\n\t\tvar gmonth = gap/1000/60/60/24;\n\n\t\treturn  gmonth;\n\t\t\n\t\t// //年分差\n\t\t// var gyear = this.state.e.year-this.state.b.year;\n\n\t\t// //\n\n\t}\n\n\t//上树之后\n\tcomponentDidMount(){\n\t\tvar self =this;\n\t\t$(\"html\").click(function(event){\n\t\t\tvar o = self.refs.BECanlendar;\n\t\t\tif($(event.target).parents(o).length==0){\n\t\t\t\tself.setState({\"showchoosebox\":false,b:{year:self.kbyear,month:self.kbmonth,day:self.kbday,showCanlendar:false},e:{year:self.keyear,month:self.kemonth,day:self.keday,showCanlendar:false}});\n\t\t\t\t// self.setState = (state,callback)=>{\n\t\t\t\t// \treturn;\n\t\t\t\t// };\n\n\t\t\t}\n\t\t});\n\t}\n\t\n\tcomponentWillUnmount() {\n\t  // 卸载异步操作设置状态\n\t  // clearTimeout(this.timeouter)\n\t  this.setState = (state, callback) => {\n\t    return\n\t  }\n\t}\n\n\t//显示组件\n\tshowchoosebox(){\n\t\t\treturn ( \n\t\t\t\t<div className=\"chooseBox\">\n\t\t\t\t\t<input type=\"button\" value=\"确定\" className=\"submitbtn\"  onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:false\n\t\t\t\t\t\t}); \n\t\t\t\t\t\tthis.kbyear=this.state.b.year;\n\t\t\t\t\t\tthis.kbmonth=this.state.b.month;\n\t\t\t\t\t\tthis.kbday=this.state.b.day;\n\t\t\t\t\t\tthis.keyear=this.state.e.year;\n\t\t\t\t\t\tthis.kemonth=this.state.e.month;\n\t\t\t\t\t\tthis.keday=this.state.e.day;\n\t\t\t\t\t\tthis.props.onpick(this.props.title,this.state);\n\t\t\t\t\t}}/>\n\t\t\t\t\t<input type=\"button\" value=\"取消\" className=\"cancelbtn\"  onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:false,\n\t\t\t\t\t\t\tb:{\n\t\t\t\t\t\t\t\tyear:this.kbyear,\n\t\t\t\t\t\t\t\tmonth:this.kbmonth,\n\t\t\t\t\t\t\t\tday:this.kbday\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\te:{\n\t\t\t\t\t\t\t\tyear:this.keyear,\n\t\t\t\t\t\t\t\tmonth:this.kemonth,\n\t\t\t\t\t\t\t\tday:this.keday\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}); \n\t\t\t\t\t}}/>\n\t\t\t\t\t<div className=\"begin\">\n\t\t\t\t\t\t开始日期：\n\t\t\t\t\t\t<div className=\"begin_result result\" >\n\t\t\t\t\t\t\t<div onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\t\t\tb:{...this.state.b,showCanlendar:!(this.state.b.showCanlendar)},\n\t\t\t\t\t\t\t\t\te:{...this.state.e,showCanlendar:false} \n\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{this.state.b.year}年{this.state.b.month}月{this.state.b.day}日\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\" ></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{this.showCanlendar1()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"days\">\n\t\t\t\t\t\t共<span className=\"month\">{this.calcGap()}</span>天\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"end\">\n\t\t\t\t\t\t结束日期：\n\t\t\t\t\t\t<div className=\"begin_result result\">\n\t\t\t\t\t\t\t<div onClick={(event)=>{\n\t\t\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\t\t\te:{...this.state.e,showCanlendar:!(this.state.e.showCanlendar)},\n\t\t\t\t\t\t\t\t\tb:{...this.state.b,showCanlendar:false}\n\t\t\t\t\t\t\t\t});  \n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{this.state.e.year}年{this.state.e.month}月{this.state.e.day}日\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\" ></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{this.showCanlendar2()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t}\n\n\t\t\n\trender(){\n\t\t// console.log(this.state.b.year,this.state.b.month,this.state.b.day);\n\t\t// console.log(this.state.e.year,this.state.e.month,this.state.e.day);\n\t\t\n\t\treturn (\n\t\t\t<div className=\"BECanlendar\" ref=\"BECanlendar\">\n\t\t\t\t<div className=\"result\" onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:!this.state.showchoosebox,\n\t\t\t\t\t\t\tb:{\n\t\t\t\t\t\t\t\t...this.state.b,\n\t\t\t\t\t\t\t\tshowCanlendar:false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\te:{\n\t\t\t\t\t\t\t\t...this.state.e,\n\t\t\t\t\t\t\t\tshowCanlendar:false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}); \n\t\t\t\t}}>\n\t\t\t\t\t{this.kbyear}年{this.kbmonth}月{this.kbday}日 - {this.keyear}年{this.kemonth}月{this.keday}日\n\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\"></span>\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.showchoosebox && this.showchoosebox()}\n\n\n\t\t\t</div>\n\t\t)\n\t}    \n\t\t\n}\n\nexport default BECanlendar;"]},"metadata":{},"sourceType":"module"}