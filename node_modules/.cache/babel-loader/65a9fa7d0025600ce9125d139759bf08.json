{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\src\\\\component\\\\Range\\\\Range.js\";\nimport React from \"react\";\nimport '../../static/Range.less';\nimport $ from 'jquery/dist/jquery.min.js'; // import 'jquery-ui/themes/base/draggable.css'; //此css不引入也不影响draggable 功能\n// import 'jquery-ui/themes/base/resizable.css'; //使用resizable功能必须引入此css！\n// import 'jquery-ui/ui/widgets/draggable.js'; //必须像如下这样直接引入，import 'jquery-ui' 这样引入是无效的\n// import 'jquery-ui/ui/widgets/resizable';\n\nclass Range extends React.Component {\n  constructor({\n    width,\n    min,\n    max\n  }) {\n    super(); //大格的数量  向上取整\n\n    this.biggridamount = Math.ceil(width / 60); //大格的宽度\n\n    this.biggridwidth = width / this.biggridamount; //小格的宽度\n\n    this.smallgridwidth = this.biggridwidth / 5; //每个大格表示的实际 数量*(大约)\n\n    this.perbiggridnumber = parseInt((max - min) / this.biggridamount); //每小格表示的 实际数量\n\n    this.persmallgridnumber = this.perbiggridnumber / 5;\n    this.width = width; // console.log(this);\n  }\n\n  componentDidMount() {\n    $(this.refs.range).find(\".scaleline i\").css(\"margin-right\", this.smallgridwidth - 1);\n    $(this.refs.range).find(\".scaleline i\").eq(-2).css(\"margin-right\", this.smallgridwidth - 4);\n    $(this.refs.range).find(\".scaleline i\").eq(-1).css(\"margin-right\", 0);\n    $(this.refs.range).find(\".scaleline i:nth-child(5n+1)\").addClass('big');\n    var self = this; //刻度线的数字数组\n\n    $(this.refs.range).find(\".scaleline i.big\").each(function (idx) {\n      $(this).append(\"<u>\" + (self.props.min + self.perbiggridnumber * idx) + \"</u>\");\n    }); //拖拽\n    // $(this.refs.range).find(\".bar b.left\").draggable({\n    // });\n\n    var kk = $(this.refs.range).offset().left;\n    $(this.refs.range).find(\".bar b\").on({\n      mousedown: function (e) {\n        var el = $(this);\n        var os = el.offset(),\n            dx = e.pageX - os.left,\n            dy = e.pageY - os.top;\n        $(document).on('mousemove.drag', function (e) {\n          console.log(\"left\", os.left, e.pageX, dx, \"top\", os.top, e.pageY, dy);\n\n          if (e.pageX - dx < kk) {\n            el.offset({\n              left: kk\n            });\n          } else if (e.pageX - dx - kk > this.width) {\n            el.offset({\n              left: kk + this.width\n            });\n          } else {\n            el.offset({\n              left: e.pageX - dx\n            });\n          }\n        });\n      },\n      mouseup: function (e) {\n        $(document).off('mousemove.drag');\n      }\n    });\n  } //显示刻度线\n\n\n  showis() {\n    var is = []; //个数\n\n    var length = this.biggridamount * 5 + 1;\n\n    for (var i = 0; i < length; i++) {\n      is.push(React.createElement(\"i\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }\n\n    return is;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"range\",\n      ref: \"range\",\n      style: {\n        width: this.props.width + 32\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bar\",\n      style: {\n        width: this.props.width - 1.5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"left\",\n      style: {\n        left: -0.5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      className: \"right\",\n      style: {\n        left: this.props.width - 3.5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        width: this.props.width - 1.5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"scaleline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.showis()));\n  }\n\n}\n\nexport default Range;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\component\\Range\\Range.js"],"names":["React","$","Range","Component","constructor","width","min","max","biggridamount","Math","ceil","biggridwidth","smallgridwidth","perbiggridnumber","parseInt","persmallgridnumber","componentDidMount","refs","range","find","css","eq","addClass","self","each","idx","append","props","kk","offset","left","on","mousedown","e","el","os","dx","pageX","dy","pageY","top","document","console","log","mouseup","off","showis","is","length","i","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../../static/Range.less';\nimport $ from 'jquery/dist/jquery.min.js';\n// import 'jquery-ui/themes/base/draggable.css'; //此css不引入也不影响draggable 功能\n// import 'jquery-ui/themes/base/resizable.css'; //使用resizable功能必须引入此css！\n// import 'jquery-ui/ui/widgets/draggable.js'; //必须像如下这样直接引入，import 'jquery-ui' 这样引入是无效的\n// import 'jquery-ui/ui/widgets/resizable';\n\n\n\n\n\nclass Range extends React.Component{\n\tconstructor({width,min,max}){\n\t\tsuper();\n\n\t\t//大格的数量  向上取整\n\t\tthis.biggridamount=Math.ceil(width/60);\n\t\t//大格的宽度\n\t\tthis.biggridwidth=width/this.biggridamount;\n\t\t//小格的宽度\n\t\tthis.smallgridwidth=this.biggridwidth/5;\n\n\t\t//每个大格表示的实际 数量*(大约)\n\t\tthis.perbiggridnumber=parseInt((max-min)/this.biggridamount);\n\t\t//每小格表示的 实际数量\n\t\tthis.persmallgridnumber=this.perbiggridnumber/5;\n\n\t\tthis.width=width;\n\n\t\t// console.log(this);\n\t}\n\n\tcomponentDidMount(){\n\t\t$(this.refs.range).find(\".scaleline i\").css(\"margin-right\",this.smallgridwidth-1);\n\t\t$(this.refs.range).find(\".scaleline i\").eq(-2).css(\"margin-right\",this.smallgridwidth-4);\n\t\t$(this.refs.range).find(\".scaleline i\").eq(-1).css(\"margin-right\",0);\n\t\t$(this.refs.range).find(\".scaleline i:nth-child(5n+1)\").addClass('big');\n\n\t\tvar self=this;\n\t\t//刻度线的数字数组\n\t\t$(this.refs.range).find(\".scaleline i.big\").each(function(idx){\n\t\t\t$(this).append(\"<u>\"+(self.props.min+self.perbiggridnumber*idx)+\"</u>\");\n\t\t});\n\n\t\t//拖拽\n\t\t// $(this.refs.range).find(\".bar b.left\").draggable({\n\n\t\t// });\n\t\tvar kk=$(this.refs.range).offset().left;\n\t\t$(this.refs.range).find(\".bar b\").on({\n\t\t    mousedown: function(e){\n\t\t                var el=$(this);\n\t\t                var os = el.offset(), dx = e.pageX-os.left, dy = e.pageY-os.top;\n\t\t                $(document).on('mousemove.drag', function(e){ console.log(\"left\",os.left,e.pageX,dx,\"top\",os.top,e.pageY,dy);  if(e.pageX-dx<kk){el.offset({left: kk});}else if(e.pageX-dx-kk>this.width){el.offset({left: kk+this.width});}else{el.offset({left: e.pageX-dx});} });\n\t\t            },\n\t\t   mouseup: function(e){ $(document).off('mousemove.drag'); }\n\t\t});\n\t}\n\n\t//显示刻度线\n\tshowis(){\n\t\tvar is=[];\n\t\t//个数\n\t\tvar length=this.biggridamount*5+1;\n\t\tfor(var i=0;i<length;i++){\n\t\t\tis.push(<i key={i}></i>);\n\t\t}\n\t\treturn is;\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"range\" ref=\"range\" style={{width:this.props.width+32}}>\n\t\t\t\t<div className=\"bar\" style={{width:this.props.width-1.5}}>\n\t\t\t\t\t<b className=\"left\" style={{left:-0.5}}></b>\n\t\t\t\t\t<b className=\"right\" style={{left:this.props.width-3.5}}></b>\n\t\t\t\t\t<span style={{width:this.props.width-1.5}}></span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"scaleline\">\n\t\t\t\t\t{this.showis()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\n\nexport default Range;"]},"metadata":{},"sourceType":"module"}