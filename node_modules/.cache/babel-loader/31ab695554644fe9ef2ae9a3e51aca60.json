{"ast":null,"code":"import $ from 'jquery/dist/jquery.min.js';\nexport const fetchInitData = () => {\n  return dispatch => {\n    $.get(\"/api/filters.json\", function (data) {\n      dispatch({\n        \"type\": \"FETCHINITDATA\",\n        \"data\": data\n      });\n    });\n  };\n};\nexport const fetchData = () => {\n  return dispatch => {\n    $.post(\"/api\", {\n      \"filter\": \"[]\"\n    }, function (data) {\n      dispatch({\n        \"type\": \"FETCHDATA\",\n        \"data\": data\n      });\n    });\n  };\n};\nexport const addfilter = (title, v, reducerkey) => {\n  return (dispatch, getState) => {\n    var nowfilter = getState().reducers.touzhireducers.nowfilter.concat([{\n      \"filtertitle\": title,\n      \"v\": v\n    }]);\n    $.ajax({\n      \"url\": \"/api\",\n      \"data\": {\n        \"filter\": JSON.stringify(nowfilter)\n      },\n      \"type\": \"post\",\n      \"traditional\": true,\n      \"success\": function (data) {\n        dispatch({\n          \"type\": \"ADDFILTER\",\n          title,\n          v,\n          reducerkey,\n          data\n        });\n      }\n    });\n  };\n};\nexport const delfilter = title => {\n  return (dispatch, getState) => {\n    var nowfilter = getState().reducers.touzhireducers.nowfilter.filter(function (item) {\n      return item.filtertitle != title;\n    });\n    $.ajax({\n      \"url\": \"/api\",\n      \"data\": {\n        \"filter\": JSON.stringify(nowfilter)\n      },\n      \"type\": \"post\",\n      \"traditional\": true,\n      \"success\": function (data) {\n        dispatch({\n          \"type\": \"DELFILTER\",\n          title,\n          data\n        });\n      }\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\actions\\touzhiaction.js"],"names":["$","fetchInitData","dispatch","get","data","fetchData","post","addfilter","title","v","reducerkey","getState","nowfilter","reducers","touzhireducers","concat","ajax","JSON","stringify","delfilter","filter","item","filtertitle"],"mappings":"AAAA,OAAOA,CAAP,MAAe,2BAAf;AAEA,OAAO,MAAMC,aAAa,GAAC,MAAI;AAAC,SAAQC,QAAD,IAAY;AAClDF,IAAAA,CAAC,CAACG,GAAF,CAAM,mBAAN,EAA0B,UAASC,IAAT,EAAc;AACvCF,MAAAA,QAAQ,CAAC;AAAC,gBAAO,eAAR;AAAwB,gBAAOE;AAA/B,OAAD,CAAR;AACA,KAFD;AAGA,GAJ+B;AAI9B,CAJK;AAMP,OAAO,MAAMC,SAAS,GAAC,MAAI;AAAC,SAAQH,QAAD,IAAY;AAC9CF,IAAAA,CAAC,CAACM,IAAF,CAAO,MAAP,EAAc;AAAC,gBAAS;AAAV,KAAd,EAA8B,UAASF,IAAT,EAAc;AAC3CF,MAAAA,QAAQ,CAAC;AAAC,gBAAO,WAAR;AAAoB,gBAAOE;AAA3B,OAAD,CAAR;AACA,KAFD;AAGA,GAJ2B;AAI1B,CAJK;AAQP,OAAO,MAAMG,SAAS,GAAC,CAACC,KAAD,EAAOC,CAAP,EAASC,UAAT,KAAsB;AAAE,SAAO,CAACR,QAAD,EAAUS,QAAV,KAAqB;AAC1E,QAAIC,SAAS,GAACD,QAAQ,GAAGE,QAAX,CAAoBC,cAApB,CAAmCF,SAAnC,CAA6CG,MAA7C,CAAoD,CAAC;AAAC,qBAAcP,KAAf;AAAqB,WAAIC;AAAzB,KAAD,CAApD,CAAd;AACAT,IAAAA,CAAC,CAACgB,IAAF,CAAO;AACN,aAAM,MADA;AAEN,cAAO;AAAC,kBAASC,IAAI,CAACC,SAAL,CAAeN,SAAf;AAAV,OAFD;AAGN,cAAO,MAHD;AAIN,qBAAc,IAJR;AAKN,iBAAU,UAASR,IAAT,EAAc;AACvBF,QAAAA,QAAQ,CAAC;AAAC,kBAAO,WAAR;AAAoBM,UAAAA,KAApB;AAA0BC,UAAAA,CAA1B;AAA4BC,UAAAA,UAA5B;AAAuCN,UAAAA;AAAvC,SAAD,CAAR;AACA;AAPK,KAAP;AASA,GAX8C;AAW7C,CAXK;AAaP,OAAO,MAAMe,SAAS,GAAEX,KAAD,IAAS;AAAE,SAAO,CAACN,QAAD,EAAUS,QAAV,KAAqB;AAC7D,QAAIC,SAAS,GAACD,QAAQ,GAAGE,QAAX,CAAoBC,cAApB,CAAmCF,SAAnC,CAA6CQ,MAA7C,CAAoD,UAASC,IAAT,EAAc;AAC/E,aAAOA,IAAI,CAACC,WAAL,IAAkBd,KAAzB;AACA,KAFa,CAAd;AAGAR,IAAAA,CAAC,CAACgB,IAAF,CAAO;AACN,aAAM,MADA;AAEN,cAAO;AAAC,kBAASC,IAAI,CAACC,SAAL,CAAeN,SAAf;AAAV,OAFD;AAGN,cAAO,MAHD;AAIN,qBAAc,IAJR;AAKN,iBAAU,UAASR,IAAT,EAAc;AACvBF,QAAAA,QAAQ,CAAC;AAAC,kBAAO,WAAR;AAAoBM,UAAAA,KAApB;AAA0BJ,UAAAA;AAA1B,SAAD,CAAR;AACA;AAPK,KAAP;AASA,GAbiC;AAahC,CAbK","sourcesContent":["import $ from  'jquery/dist/jquery.min.js';\r\n\r\nexport const fetchInitData=()=>{return (dispatch)=>{\r\n\t$.get(\"/api/filters.json\",function(data){\r\n\t\tdispatch({\"type\":\"FETCHINITDATA\",\"data\":data});\r\n\t})\r\n}}\r\n\r\nexport const fetchData=()=>{return (dispatch)=>{\r\n\t$.post(\"/api\",{\"filter\":\"[]\"},function(data){\r\n\t\tdispatch({\"type\":\"FETCHDATA\",\"data\":data});\r\n\t})\r\n}}\r\n\r\n\r\n\r\nexport const addfilter=(title,v,reducerkey)=>{ return (dispatch,getState)=>{\r\n\tvar nowfilter=getState().reducers.touzhireducers.nowfilter.concat([{\"filtertitle\":title,\"v\":v}]);\r\n\t$.ajax({\r\n\t\t\"url\":\"/api\",\r\n\t\t\"data\":{\"filter\":JSON.stringify(nowfilter)},\r\n\t\t\"type\":\"post\",\r\n\t\t\"traditional\":true,\r\n\t\t\"success\":function(data){\r\n\t\t\tdispatch({\"type\":\"ADDFILTER\",title,v,reducerkey,data});\r\n\t\t}\r\n\t});\r\n}}\r\n\r\nexport const delfilter=(title)=>{ return (dispatch,getState)=>{\r\n\tvar nowfilter=getState().reducers.touzhireducers.nowfilter.filter(function(item){\r\n\t\treturn item.filtertitle!=title;\r\n\t});\r\n\t$.ajax({\r\n\t\t\"url\":\"/api\",\r\n\t\t\"data\":{\"filter\":JSON.stringify(nowfilter)},\r\n\t\t\"type\":\"post\",\r\n\t\t\"traditional\":true,\r\n\t\t\"success\":function(data){\r\n\t\t\tdispatch({\"type\":\"DELFILTER\",title,data});\r\n\t\t}\r\n\t});\r\n}}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}