{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\src\\\\component\\\\Databox\\\\Databox.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Datarow from './Datarow.js';\nimport SetTableBox from './SetTableBox.js';\nimport './table.less';\n\nclass Databox extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      settableboxshow: false,\n      tablecol: [{\n        \"fieldname\": \"name\",\n        \"fieldchinesename\": \"姓名\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"school\",\n        \"fieldchinesename\": \"学校\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"target\",\n        \"fieldchinesename\": \"目标金额\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"done\",\n        \"fieldchinesename\": \"已完成\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"need\",\n        \"fieldchinesename\": \"仍需要金额\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"min\",\n        \"fieldchinesename\": \"最小投资\",\n        \"show\": false\n      }, {\n        \"fieldname\": \"max\",\n        \"fieldchinesename\": \"最大投资\",\n        \"show\": false\n      }, {\n        \"fieldname\": \"type\",\n        \"fieldchinesename\": \"类型\",\n        \"show\": false\n      }, {\n        \"fieldname\": \"rate\",\n        \"fieldchinesename\": \"回报率\",\n        \"show\": true\n      }, {\n        \"fieldname\": \"credit\",\n        \"fieldchinesename\": \"信用\",\n        \"show\": false\n      }, {\n        \"fieldname\": \"province\",\n        \"fieldchinesename\": \"省份\",\n        \"show\": false\n      }, {\n        \"fieldname\": \"earnings_time\",\n        \"fieldchinesename\": \"收益日期\",\n        \"show\": true\n      }]\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"databox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"\\u5171\", this.props.data.length, \"\\u6761\\u6570\\u636E\", React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:;\",\n      onClick: () => {\n        this.setSetTableBoxShow(true);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"\\u8BBE\\u7F6E\\u8868\\u683C\\u663E\\u793A\\u5B57\\u6BB5\"), this.showSetTableBox()), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.tablecol.map((item, index) => {\n      if (item.show) {\n        return React.createElement(\"th\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, item.fieldchinesename);\n      }\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.props.data.map((data, index) => {\n      return React.createElement(Datarow, {\n        key: index,\n        data: data,\n        tablecol: this.state.tablecol,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }))));\n  } //SetTableBox组件显示与否\n\n\n  showSetTableBox() {\n    return this.state.settableboxshow ? React.createElement(SetTableBox, {\n      setSetTableBoxShow: this.setSetTableBoxShow.bind(this),\n      onsubmit: this.submithandler.bind(this),\n      tablecol: this.state.tablecol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }) : \"\";\n  } //接收子组件  传回的数据\n\n\n  submithandler(data) {\n    this.setState({\n      \"settableboxshow\": false,\n      \"tablecol\": this.state.tablecol.map(obj => {\n        return _objectSpread({}, obj, {\n          \"show\": data[obj.fieldchinesename]\n        });\n      })\n    });\n  } //关闭 开启 SetTableBox组件\n\n\n  setSetTableBoxShow(booleanvalue) {\n    this.setState({\n      settableboxshow: booleanvalue\n    });\n  }\n\n}\n\nexport default connect(state => {\n  return {\n    \"data\": state.reducers.touzhireducers.data\n  };\n})(Databox);","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\component\\Databox\\Databox.js"],"names":["React","connect","Datarow","SetTableBox","Databox","Component","constructor","state","settableboxshow","tablecol","render","props","data","length","setSetTableBoxShow","showSetTableBox","map","item","index","show","fieldchinesename","bind","submithandler","setState","obj","booleanvalue","reducers","touzhireducers"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Datarow from './Datarow.js';\r\nimport SetTableBox from './SetTableBox.js';\r\nimport './table.less';\r\n\r\n\r\n class Databox extends React.Component{\r\n \tconstructor(){\r\n \t\tsuper();\r\n\r\n \t\tthis.state={\r\n \t\t\tsettableboxshow : false ,\r\n \t\t\ttablecol:[\r\n \t\t\t\t{\"fieldname\":\"name\",\"fieldchinesename\":\"姓名\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"school\",\"fieldchinesename\":\"学校\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"target\",\"fieldchinesename\":\"目标金额\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"done\",\"fieldchinesename\":\"已完成\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"need\",\"fieldchinesename\":\"仍需要金额\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"min\",\"fieldchinesename\":\"最小投资\",\"show\":false},\r\n \t\t\t\t{\"fieldname\":\"max\",\"fieldchinesename\":\"最大投资\",\"show\":false},\r\n \t\t\t\t{\"fieldname\":\"type\",\"fieldchinesename\":\"类型\",\"show\":false},\r\n \t\t\t\t{\"fieldname\":\"rate\",\"fieldchinesename\":\"回报率\",\"show\":true},\r\n \t\t\t\t{\"fieldname\":\"credit\",\"fieldchinesename\":\"信用\",\"show\":false},\r\n \t\t\t\t{\"fieldname\":\"province\",\"fieldchinesename\":\"省份\",\"show\":false},\r\n \t\t\t\t{\"fieldname\":\"earnings_time\",\"fieldchinesename\":\"收益日期\",\"show\":true}\r\n \t\t\t]\r\n \t\t}\r\n \t}\r\n\r\n\r\n \trender(){\r\n \t\treturn (\r\n \t\t\t<div className=\"databox\">\r\n \t\t\t\t共{this.props.data.length}条数据\r\n \t\t\t\t<div className=\"text-right\">\r\n \t\t\t\t\t<a href=\"javascript:;\" onClick={()=>{this.setSetTableBoxShow(true)}}>设置表格显示字段</a>\r\n \t\t\t\t\t{this.showSetTableBox()}\r\n \t\t\t\t</div>\r\n \t\t\t\t<table>\r\n \t\t\t\t\t<thead>\r\n \t\t\t\t\t\t<tr>\r\n\t \t\t\t\t\t\t{this.state.tablecol.map((item,index)=>{\r\n\t \t\t\t\t\t\t\tif(item.show){\r\n\t \t\t\t\t\t\t\t\treturn <th key={index}>{item.fieldchinesename}</th>\r\n\t \t\t\t\t\t\t\t}\r\n\t \t\t\t\t\t\t})}\r\n\t \t\t\t\t\t</tr>\r\n \t\t\t\t\t</thead>\r\n \t\t\t\t\t<tbody>\r\n \t\t\t\t\t\t{this.props.data.map((data,index)=>{\r\n \t\t\t\t\t\t\treturn <Datarow key={index} data={data} tablecol={this.state.tablecol} />\r\n \t\t\t\t\t\t})}\r\n \t\t\t\t\t</tbody>\r\n \t\t\t\t</table>\r\n \t\t\t</div>\r\n \t\t)\r\n \t}\r\n\r\n \t//SetTableBox组件显示与否\r\n \tshowSetTableBox(){\r\n \t\treturn this.state.settableboxshow?<SetTableBox setSetTableBoxShow={(this.setSetTableBoxShow).bind(this)} onsubmit={this.submithandler.bind(this)} tablecol={this.state.tablecol}  />:\"\";\r\n \t}\r\n \t//接收子组件  传回的数据\r\n \tsubmithandler(data){\r\n \t\tthis.setState({\r\n \t\t\t\"settableboxshow\":false,\r\n \t\t\t\"tablecol\":this.state.tablecol.map((obj)=>{\r\n \t\t\t\treturn {\r\n \t\t\t\t\t...obj,\r\n \t\t\t\t\t\"show\":data[obj.fieldchinesename]\r\n \t\t\t\t}\r\n \t\t\t})\r\n \t\t});\r\n \t}\r\n \t//关闭 开启 SetTableBox组件\r\n \tsetSetTableBoxShow(booleanvalue){\r\n \t\tthis.setState({settableboxshow:booleanvalue});\r\n \t}\r\n\r\n\r\n }\r\n\r\n export default connect((state)=>{\r\n\treturn {\r\n\t\t\"data\":state.reducers.touzhireducers.data\r\n\t}\r\n })(Databox);"]},"metadata":{},"sourceType":"module"}