{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\src\\\\component\\\\BECanlendar\\\\BECanlendar.js\";\nimport React from \"react\";\nimport Canlendar from './Canlendar.js';\nimport '../../static/BECanlendar.less';\nimport $ from 'jquery/dist/jquery.min.js';\n\nclass BECanlendar extends React.Component {\n  constructor({\n    onpick,\n    earliest,\n    latest\n  }) {\n    super();\n    var d = new Date(); //b表示开始日期\n    //e表示结束日期\n\n    this.state = {\n      \"b\": {\n        \"year\": d.getFullYear(),\n        \"month\": d.getMonth() + 1,\n        \"day\": d.getDate(),\n        \"showCanlendar\": false\n      },\n      \"e\": {\n        \"year\": d.getFullYear(),\n        \"month\": d.getMonth() + 1,\n        \"day\": d.getDate(),\n        \"showCanlendar\": false\n      },\n      showchoosebox: false //取消时候的 备份数据\n\n    };\n    this.kbyear = this.state.b.year;\n    this.kbmonth = this.state.b.month;\n    this.kbday = this.state.b.day;\n    this.keyear = this.state.e.year;\n    this.kemonth = this.state.e.month;\n    this.keday = this.state.e.day;\n  } //发生在state的改变时候触发\n\n\n  componentWillUpdate() {\n    //向上传值\n    this.props.onpick(this.state.b.year, this.state.b.month, this.state.b.day, this.state.e.year, this.state.e.month, this.state.e.day);\n  } //此组件的显示与否\n\n\n  showCanlendar1() {\n    // console.log(this.state.b.showCanlendar);\n    if (this.state.b.showCanlendar) {\n      return React.createElement(Canlendar, Object.assign({}, this.state.b, {\n        onpick: this.onpick1.bind(this),\n        earliest: this.props.earliest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }\n\n  showCanlendar2() {\n    // console.log(this.state.e.showCanlendar);\n    if (this.state.e.showCanlendar) {\n      return React.createElement(Canlendar, Object.assign({}, this.state.e, {\n        onpick: this.onpick2.bind(this),\n        latest: this.props.latest,\n        earliest: this.props.earliest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  } //通过子组件传回的值 设置自己的state..\n\n\n  onpick1({\n    year,\n    month,\n    day\n  }) {\n    this.setState({\n      b: {\n        showCanlendar: false,\n        year,\n        month,\n        day\n      }\n    });\n  }\n\n  onpick2({\n    year,\n    month,\n    day\n  }) {\n    this.setState({\n      e: {\n        showCanlendar: false,\n        year,\n        month,\n        day\n      }\n    });\n  } //计算日期间隔\n\n\n  calcGap() {\n    var dateb = new Date(this.state.b.year, this.state.b.month, this.state.b.day);\n    var datee = new Date(this.state.e.year, this.state.e.month, this.state.e.day); //时间戳差\n\n    var gap = datee - dateb; //换算成天\n\n    var gmonth = gap / 1000 / 60 / 60 / 24;\n    return gmonth; // //年分差\n    // var gyear = this.state.e.year-this.state.b.year;\n    // //\n  } //上树之后\n\n\n  componentDidMount() {\n    var self = this;\n    $(\"html\").click(function (event) {\n      var o = self.refs.BECanlendar;\n\n      if ($(event.target).parents(o).length == 0) {\n        self.setState({\n          \"showchoosebox\": false,\n          b: {\n            year: self.kbyear,\n            month: self.kbmonth,\n            day: self.kbday,\n            showCanlendar: false\n          },\n          e: {\n            year: self.keyear,\n            month: self.kemonth,\n            day: self.keday,\n            showCanlendar: false\n          }\n        });\n      }\n    });\n  } //显示组件\n\n\n  showchoosebox() {\n    return React.createElement(\"div\", {\n      className: \"chooseBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u786E\\u5B9A\",\n      className: \"submitbtn\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: false\n        });\n        this.kbyear = this.state.b.year;\n        this.kbmonth = this.state.b.month;\n        this.kbday = this.state.b.day;\n        this.keyear = this.state.e.year;\n        this.kemonth = this.state.e.month;\n        this.keday = this.state.e.day;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u53D6\\u6D88\",\n      className: \"cancelbtn\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: false,\n          b: {\n            year: this.kbyear,\n            month: this.kbmonth,\n            day: this.kbday\n          },\n          e: {\n            year: this.keyear,\n            month: this.kemonth,\n            day: this.keday\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"begin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"\\u5F00\\u59CB\\u65E5\\u671F\\uFF1A\", React.createElement(\"div\", {\n      className: \"begin_result result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: !this.state.b.showCanlendar\n          }),\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.b.year, \"\\u5E74\", this.state.b.month, \"\\u6708\", this.state.b.day, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), this.showCanlendar1())), React.createElement(\"div\", {\n      className: \"days\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"\\u5171\", React.createElement(\"span\", {\n      className: \"month\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.calcGap()), \"\\u5929\"), React.createElement(\"div\", {\n      className: \"end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"\\u7ED3\\u675F\\u65E5\\u671F\\uFF1A\", React.createElement(\"div\", {\n      className: \"begin_result result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: event => {\n        this.setState({\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: !this.state.e.showCanlendar\n          }),\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.e.year, \"\\u5E74\", this.state.e.month, \"\\u6708\", this.state.e.day, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), this.showCanlendar2())));\n  }\n\n  render() {\n    // console.log(this.state.b.year,this.state.b.month,this.state.b.day);\n    // console.log(this.state.e.year,this.state.e.month,this.state.e.day);\n    return React.createElement(\"div\", {\n      className: \"BECanlendar\",\n      ref: \"BECanlendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"result\",\n      onClick: event => {\n        /*此处事件涉及事件冒泡  会覆盖*/\n        this.setState({\n          showchoosebox: !this.state.showchoosebox,\n          b: _objectSpread({}, this.state.b, {\n            showCanlendar: false\n          }),\n          e: _objectSpread({}, this.state.e, {\n            showCanlendar: false\n          })\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, this.kbyear, \"\\u5E74\", this.kbmonth, \"\\u6708\", this.kbday, \"\\u65E5 - \", this.keyear, \"\\u5E74\", this.kemonth, \"\\u6708\", this.keday, \"\\u65E5\", React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-calendar canlendarbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), this.state.showchoosebox && this.showchoosebox());\n  }\n\n}\n\nexport default BECanlendar;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\component\\BECanlendar\\BECanlendar.js"],"names":["React","Canlendar","$","BECanlendar","Component","constructor","onpick","earliest","latest","d","Date","state","getFullYear","getMonth","getDate","showchoosebox","kbyear","b","year","kbmonth","month","kbday","day","keyear","e","kemonth","keday","componentWillUpdate","props","showCanlendar1","showCanlendar","onpick1","bind","showCanlendar2","onpick2","setState","calcGap","dateb","datee","gap","gmonth","componentDidMount","self","click","event","o","refs","target","parents","length","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Canlendar from './Canlendar.js';\nimport '../../static/BECanlendar.less';\nimport $ from 'jquery/dist/jquery.min.js';\n\n\n\n\n\n\nclass BECanlendar  extends React.Component{\n\tconstructor({onpick,earliest,latest}){\n\t\tsuper();\n\n\t\tvar d=new Date();\n\t\t//b表示开始日期\n\t\t//e表示结束日期\n\t\tthis.state={\n\t\t\t\"b\":{\n\t\t\t\t\"year\":d.getFullYear(),\n\t\t\t\t\"month\":d.getMonth()+1,\n\t\t\t\t\"day\":d.getDate(),\n\t\t\t\t\"showCanlendar\":false\n\t\t\t},\n\t\t\t\"e\":{\n\t\t\t\t\"year\":d.getFullYear(),\n\t\t\t\t\"month\":d.getMonth()+1,\n\t\t\t\t\"day\":d.getDate(),\n\t\t\t\t\"showCanlendar\":false\n\t\t\t},\n\t\t\tshowchoosebox:false\n\t\t}\n\t\t//取消时候的 备份数据\n\t\tthis.kbyear=this.state.b.year;\n\t\tthis.kbmonth=this.state.b.month;\n\t\tthis.kbday=this.state.b.day;\n\t\tthis.keyear=this.state.e.year;\n\t\tthis.kemonth=this.state.e.month;\n\t\tthis.keday=this.state.e.day;\n\t}\n\n\t//发生在state的改变时候触发\n\tcomponentWillUpdate(){\n\t\t//向上传值\n\t\tthis.props.onpick(this.state.b.year,this.state.b.month,this.state.b.day,this.state.e.year,this.state.e.month,this.state.e.day);\n\t}\n\n\t//此组件的显示与否\n\tshowCanlendar1(){\n\t\t// console.log(this.state.b.showCanlendar);\n\t\t\n\t\tif(this.state.b.showCanlendar){\n\t\t\treturn <Canlendar {...this.state.b} onpick={(this.onpick1).bind(this)} earliest={this.props.earliest} />;\n\t\t}\n\t}\n\tshowCanlendar2(){\n\t\t// console.log(this.state.e.showCanlendar);\n\t\tif(this.state.e.showCanlendar){\n\t\t\treturn <Canlendar {...this.state.e} onpick={(this.onpick2).bind(this)} latest={this.props.latest} earliest={this.props.earliest}   />;\n\t\t}\n\t}\n\n\n\t//通过子组件传回的值 设置自己的state..\n\tonpick1({year,month,day}){\n\t\tthis.setState({b:{showCanlendar:false,year,month,day}});\n\t}\n\tonpick2({year,month,day}){\n\t\tthis.setState({e:{showCanlendar:false,year,month,day}});\n\t}\n\n\t//计算日期间隔\n\tcalcGap(){\n\t\tvar dateb=new Date(this.state.b.year,this.state.b.month,this.state.b.day);\n\t\tvar datee=new Date(this.state.e.year,this.state.e.month,this.state.e.day);\n\t\t//时间戳差\n\t\tvar gap = datee-dateb;\n\n\t\t//换算成天\n\t\tvar gmonth = gap/1000/60/60/24;\n\n\t\treturn  gmonth;\n\t\t\n\t\t// //年分差\n\t\t// var gyear = this.state.e.year-this.state.b.year;\n\n\t\t// //\n\n\t}\n\n\t//上树之后\n\tcomponentDidMount(){\n\t\tvar self =this;\n\t\t$(\"html\").click(function(event){\n\t\t\tvar o = self.refs.BECanlendar;\n\t\t\tif($(event.target).parents(o).length==0){\n\t\t\t\tself.setState({\"showchoosebox\":false,b:{year:self.kbyear,month:self.kbmonth,day:self.kbday,showCanlendar:false},e:{year:self.keyear,month:self.kemonth,day:self.keday,showCanlendar:false}});\n\t\t\t}\n\t\t});\n\t}\n\n\t//显示组件\n\tshowchoosebox(){\n\t\t\treturn ( \n\t\t\t\t<div className=\"chooseBox\">\n\t\t\t\t\t<input type=\"button\" value=\"确定\" className=\"submitbtn\"  onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:false\n\t\t\t\t\t\t}); \n\t\t\t\t\t\tthis.kbyear=this.state.b.year;\n\t\t\t\t\t\tthis.kbmonth=this.state.b.month;\n\t\t\t\t\t\tthis.kbday=this.state.b.day;\n\t\t\t\t\t\tthis.keyear=this.state.e.year;\n\t\t\t\t\t\tthis.kemonth=this.state.e.month;\n\t\t\t\t\t\tthis.keday=this.state.e.day;\n\t\t\t\t\t}}/>\n\t\t\t\t\t<input type=\"button\" value=\"取消\" className=\"cancelbtn\"  onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:false,\n\t\t\t\t\t\t\tb:{\n\t\t\t\t\t\t\t\tyear:this.kbyear,\n\t\t\t\t\t\t\t\tmonth:this.kbmonth,\n\t\t\t\t\t\t\t\tday:this.kbday\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\te:{\n\t\t\t\t\t\t\t\tyear:this.keyear,\n\t\t\t\t\t\t\t\tmonth:this.kemonth,\n\t\t\t\t\t\t\t\tday:this.keday\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}); \n\t\t\t\t\t}}/>\n\t\t\t\t\t<div className=\"begin\">\n\t\t\t\t\t\t开始日期：\n\t\t\t\t\t\t<div className=\"begin_result result\" >\n\t\t\t\t\t\t\t<div onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\t\t\tb:{...this.state.b,showCanlendar:!(this.state.b.showCanlendar)},\n\t\t\t\t\t\t\t\t\te:{...this.state.e,showCanlendar:false} \n\t\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{this.state.b.year}年{this.state.b.month}月{this.state.b.day}日\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\" ></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{this.showCanlendar1()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"days\">\n\t\t\t\t\t\t共<span className=\"month\">{this.calcGap()}</span>天\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"end\">\n\t\t\t\t\t\t结束日期：\n\t\t\t\t\t\t<div className=\"begin_result result\">\n\t\t\t\t\t\t\t<div onClick={(event)=>{\n\t\t\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\t\t\te:{...this.state.e,showCanlendar:!(this.state.e.showCanlendar)},\n\t\t\t\t\t\t\t\t\tb:{...this.state.b,showCanlendar:false}\n\t\t\t\t\t\t\t\t});  \n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{this.state.e.year}年{this.state.e.month}月{this.state.e.day}日\n\t\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\" ></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{this.showCanlendar2()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t}\n\n\t\t\n\trender(){\n\t\t// console.log(this.state.b.year,this.state.b.month,this.state.b.day);\n\t\t// console.log(this.state.e.year,this.state.e.month,this.state.e.day);\n\t\t\n\t\treturn (\n\t\t\t<div className=\"BECanlendar\" ref=\"BECanlendar\">\n\t\t\t\t<div className=\"result\" onClick={(event)=>{  /*此处事件涉及事件冒泡  会覆盖*/\n\t\t\t\t\t\tthis.setState({ \n\t\t\t\t\t\t\tshowchoosebox:!this.state.showchoosebox,\n\t\t\t\t\t\t\tb:{\n\t\t\t\t\t\t\t\t...this.state.b,\n\t\t\t\t\t\t\t\tshowCanlendar:false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\te:{\n\t\t\t\t\t\t\t\t...this.state.e,\n\t\t\t\t\t\t\t\tshowCanlendar:false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}); \n\t\t\t\t}}>\n\t\t\t\t\t{this.kbyear}年{this.kbmonth}月{this.kbday}日 - {this.keyear}年{this.kemonth}月{this.keday}日\n\t\t\t\t\t<span className=\"glyphicon glyphicon-calendar canlendarbtn\"></span>\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.showchoosebox && this.showchoosebox()}\n\n\n\t\t\t</div>\n\t\t)\n\t}    \n\t\t\n}\n\nexport default BECanlendar;"]},"metadata":{},"sourceType":"module"}