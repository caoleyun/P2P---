{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\reture\\\\my-app2\\\\src\\\\component\\\\YearMonthPicker.js\";\nimport React from \"react\";\nimport $ from 'jquery/dist/jquery.min.js';\nimport PropTypes from \"prop-types\"; // import './jquery.mousewheel.min.js';\n\nclass YearMonthPicker extends React.Component {\n  constructor({\n    onpick,\n    year,\n    month\n  }) {\n    super();\n    this.state = {\n      \"year\": year,\n      \"month\": month //位于视野中央的那个年份\n\n    };\n    this.cyear = this.state.year; // console.log(this.state.year);\n  } //向右切换年份\n\n\n  rrBtnHandler() {\n    ++this.cyear;\n    $(this.refs.span_container).append($(\"<span>\".concat(this.cyear + 2, \"</span>\"))).stop(true, true).animate({\n      \"left\": -38\n    }, 100, function () {\n      $(this).find(\"span\").eq(0).remove();\n      $(this).css(\"left\", 0);\n      $(this).find(\"span\").eq(2).addClass(\"cur\").siblings().removeClass(\"cur\");\n    }); //判断月份加cur\n\n    $(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\n    if (this.cyear === this.state.year) {\n      $(this.refs.month_panel).find(\"a\").eq(this.state.month - 1).addClass(\"cur\");\n    } // console.log(this.cyear ,this.state.year , this.state.month);\n\n  } //向左切换年份\n\n\n  llBtnHandler() {\n    --this.cyear;\n    $(this.refs.span_container).prepend($(\"<span>\".concat(this.cyear - 2, \"</span>\"))).stop(true, true).animate({\n      \"left\": 38\n    }, 100, function () {\n      $(this).find(\"span\").eq(-1).remove();\n      $(this).css(\"left\", 0);\n      $(this).find(\"span\").eq(2).addClass(\"cur\").siblings().removeClass(\"cur\");\n    }); //判断月份加cur\n\n    $(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\n    if (this.cyear === this.state.year) {\n      $(this.refs.month_panel).find(\"a\").eq(this.state.month - 1).addClass(\"cur\");\n    } // console.log(this.cyear ,this.state.year , this.state.month);\n\n  } //上树之后\n\n\n  componentDidMount() {\n    //此处有滚轮兼容问题待解决\n    //绑定滚轮事件\n    var self = this;\n\n    this.refs.span_container.onmousewheel = function (event) {\n      var direction = event.wheelDelta > 0 ? 1 : -1;\n\n      if (direction < 0) {\n        self.llBtnHandler();\n      } else {\n        self.rrBtnHandler();\n      }\n    }; //a标签事件\n\n\n    $(this.refs.month_panel).find(\"a\").click(function (e) {\n      e.stopPropagation(); // console.log(self.cyear ,self.state.year , self.state.month);\n\n      self.setState({\n        \"year\": self.cyear,\n        \"month\": Number($(this).attr(\"data-month\"))\n      }); //把值传给父亲\n\n      self.props.onpick(self.state);\n    }); //决定a标签的cur\n    //判断月份加cur\n\n    $(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\n    if (this.cyear === this.state.year) {\n      $(this.refs.month_panel).find(\"a\").eq(this.state.month - 1).addClass(\"cur\");\n    } //年份点击事件\n    //新增span  用事件委托做新元素\n\n\n    $(this.refs.span_container).delegate(\"span\", \"click\", function (e) {\n      e.stopPropagation();\n\n      if ($(this).index() > 2) {\n        let a = $(this).index() - 2;\n\n        while (a) {\n          a--;\n          self.rrBtnHandler();\n        }\n      } else if ($(this).index() < 2) {\n        let a = 2 - $(this).index();\n\n        while (a) {\n          a--;\n          self.llBtnHandler();\n        }\n      }\n    });\n  }\n\n  render() {\n    // var cyear=this.cyear;\n    // console.log(\"2\");\n    // console.log(this.cyear, this.state.year, this.state.month);\n    // console.log(this.state.year);\n    return React.createElement(\"div\", {\n      className: \"YearMonthPicker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"year_panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel_inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"span_container\",\n      ref: \"span_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.year - 2), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.state.year - 1), React.createElement(\"span\", {\n      className: \"cur\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.year), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.state.year + 1), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, this.state.year + 2))), React.createElement(\"i\", {\n      className: \"ll\",\n      onClick: () => {\n        this.llBtnHandler();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"rr\",\n      onClick: () => {\n        this.rrBtnHandler();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"month_panel\",\n      ref: \"month_panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"1\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"2\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"3\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"4\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"5\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"6\\u6708\")), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"7\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"8\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"9\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"10\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"11\\u6708\"), React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      \"data-month\": \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"12\\u6708\")))));\n  }\n\n} // 判定父组件 传来的props的类型\n\n\nYearMonthPicker.propTypes = {\n  onpick: PropTypes.func.isRequired,\n  year: PropTypes.number.isRequired,\n  month: PropTypes.number.isRequired\n};\nexport default YearMonthPicker;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\reture\\my-app2\\src\\component\\YearMonthPicker.js"],"names":["React","$","PropTypes","YearMonthPicker","Component","constructor","onpick","year","month","state","cyear","rrBtnHandler","refs","span_container","append","stop","animate","find","eq","remove","css","addClass","siblings","removeClass","month_panel","llBtnHandler","prepend","componentDidMount","self","onmousewheel","event","direction","wheelDelta","click","e","stopPropagation","setState","Number","attr","props","delegate","index","a","render","propTypes","func","isRequired","number"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from 'jquery/dist/jquery.min.js';\nimport PropTypes from \"prop-types\";\n// import './jquery.mousewheel.min.js';\n\n\n\n\n\n\nclass YearMonthPicker  extends React.Component{\n\tconstructor({onpick,year,month}){\n\t\tsuper();\n\n\t\tthis.state={\n\t\t\t\"year\" : year ,\n\t\t\t\"month\":month\n\t\t}\n\t\t//位于视野中央的那个年份\n\t\tthis.cyear=this.state.year;\n\n\t\t// console.log(this.state.year);\n\t}\n\t\t\n\n\t//向右切换年份\n\trrBtnHandler(){\n\t\t++this.cyear;\n\t\t$(this.refs.span_container).append($(`<span>${this.cyear+2}</span>`)).stop(true,true).animate({\"left\":-38},100,function(){\n\t\t\t$(this).find(\"span\").eq(0).remove();\n\t\t\t$(this).css(\"left\",0);\n\n\t\t\t$(this).find(\"span\").eq(2).addClass(\"cur\").siblings().removeClass(\"cur\");\n\t\t});\n\t\t//判断月份加cur\n\t\t$(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\t\tif(this.cyear===this.state.year){\n\t\t\t$(this.refs.month_panel).find(\"a\").eq(this.state.month-1).addClass(\"cur\");\n\t\t}\n\t\t// console.log(this.cyear ,this.state.year , this.state.month);\n\n\t}\n\t//向左切换年份\n\tllBtnHandler(){\n\t\t--this.cyear;\n\t\t$(this.refs.span_container).prepend($(`<span>${this.cyear-2}</span>`)).stop(true,true).animate({\"left\":38},100,function(){\n\t\t\t$(this).find(\"span\").eq(-1).remove();\n\t\t\t$(this).css(\"left\",0);\n\n\t\t\t$(this).find(\"span\").eq(2).addClass(\"cur\").siblings().removeClass(\"cur\");\n\t\t});\n\t\t//判断月份加cur\n\t\t$(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\t\tif(this.cyear===this.state.year){\n\t\t\t$(this.refs.month_panel).find(\"a\").eq(this.state.month-1).addClass(\"cur\");\n\t\t}\n\t\t// console.log(this.cyear ,this.state.year , this.state.month);\n\n\t}\n\n\n\n\n\n\n\t//上树之后\n\tcomponentDidMount(){\n\t\t\t//此处有滚轮兼容问题待解决\n\t\t//绑定滚轮事件\n\t\tvar self=this;\n\t\tthis.refs.span_container.onmousewheel=function(event){\n\t\t\tvar direction = event.wheelDelta > 0 ? 1 : -1;\n\t\t\tif(direction<0){\n\t\t\t\tself.llBtnHandler();\n\t\t\t}else{\n\t\t\t\tself.rrBtnHandler();\n\t\t\t}\n\t\t};\n\t\t//a标签事件\n\t\t$(this.refs.month_panel).find(\"a\").click(function(e){e.stopPropagation();\n\t\t\t// console.log(self.cyear ,self.state.year , self.state.month);\n\t\t\tself.setState({\"year\":self.cyear,\"month\":Number($(this).attr(\"data-month\"))});\n\t\t\t//把值传给父亲\n\t\t\tself.props.onpick(self.state);\n\t\t});\n\n\t\t//决定a标签的cur\n\t\t//判断月份加cur\n\t\t$(this.refs.month_panel).find(\"a\").removeClass(\"cur\");\n\t\tif(this.cyear===this.state.year){\n\t\t\t$(this.refs.month_panel).find(\"a\").eq(this.state.month-1).addClass(\"cur\");\n\t\t}\n\n\t\t//年份点击事件\n\t\t//新增span  用事件委托做新元素\n\t\t$(this.refs.span_container).delegate(\"span\",\"click\",function(e){e.stopPropagation();\n\t\t\tif($(this).index()>2){\n\t\t\t\tlet a=$(this).index()-2;\n\t\t\t\twhile(a){\n\t\t\t\t\ta--;\n\t\t\t\t\tself.rrBtnHandler();\n\t\t\t\t}\n\t\t\t}else if($(this).index()<2){\n\t\t\t\tlet a=2-$(this).index();\n\t\t\t\twhile(a){\n\t\t\t\t\ta--;\n\t\t\t\t\tself.llBtnHandler();\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\t\n\n\t}\n\n\trender(){\n\t\t// var cyear=this.cyear;\n// console.log(\"2\");\n// console.log(this.cyear, this.state.year, this.state.month);\n// console.log(this.state.year);\n\t\treturn (\n\t\t\t<div className=\"YearMonthPicker\">\n\t\t\t\t<div className=\"inner\">\n\t\t\t\t\t<div className=\"year_panel\">\n\t\t\t\t\t\t<div className=\"panel_inner\">\n\t\t\t\t\t\t\t<div className=\"span_container\" ref=\"span_container\" >\n\t\t\t\t\t\t\t\t<span>{this.state.year-2}</span>\n\t\t\t\t\t\t\t\t<span>{this.state.year-1}</span>\n\t\t\t\t\t\t\t\t<span className=\"cur\">{this.state.year}</span>\n\t\t\t\t\t\t\t\t<span>{this.state.year+1}</span>\n\t\t\t\t\t\t\t\t<span>{this.state.year+2}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<i className=\"ll\" onClick={()=>{this.llBtnHandler()}}></i>\n\t\t\t\t\t\t<i className=\"rr\" onClick={()=>{this.rrBtnHandler()}}></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"month_panel\" ref=\"month_panel\">\n\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"1\">1月</a> \n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"2\">2月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"3\">3月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"4\">4月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"5\">5月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"6\">6月</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"7\">7月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"8\">8月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"9\">9月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"10\">10月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"11\">11月</a>\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" data-month=\"12\">12月</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}    \n\t\t\n}\n\n// 判定父组件 传来的props的类型\nYearMonthPicker.propTypes ={\n\tonpick:PropTypes.func.isRequired,\n\tyear:PropTypes.number.isRequired,\n\tmonth:PropTypes.number.isRequired\n}\n\n\nexport default YearMonthPicker;"]},"metadata":{},"sourceType":"module"}